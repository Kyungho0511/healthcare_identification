<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Provision Healthcare</title>

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- fontawesome icons -->
    <script
      src="https://kit.fontawesome.com/dffe10735f.js"
      crossorigin="anonymous"
    ></script>

    <!-- mapbox GL JS -->
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

    <!-- scrolly telling library -->
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>

    <!-- my files -->
    <link rel="stylesheet" href="styles.css" />
    <script src="config.js" defer></script>
    <script src="map.js" defer></script>
    <script src="app.js" defer></script>
    <script src="start.js" defer></script>
    <script src="explore.js" defer></script>
    <script src="legend.js" defer></script>
  </head>

  <!-- App.js: Contents are shown and hidden based on user interaction (SPA)-->
  <body>
    <!-- mapbox -->
    <div id="map"></div>

    <!-- Home: scrolly telling section -->
    <section id="home" class="content selected">
      <nav id="navbar" class="highlight">
        <div
          id="navbar_header"
          onclick="navigateToSection('home'); scrollToTop()"
        >
          <img class="logo" src="./images/logo2.png" alt="logo_image" />
        </div>
        <div class="navbar__container">
          <a href="#step_start" id="navbar_start">start</a>
          <a href="#step_explore" id="navbar_explore">explore</a>
          <a href="#step_cluster" id="navbar_cluster">cluster</a>
          <a href="#step_select" id="navbar_select">select</a>
          <a href="#step_share" id="navbar_share">share</a>
        </div>
      </nav>

      <div id="story">
        <div id="header">
          <div class="header_title">
            <h1>what's happening in healthcare shortage?</h1>
          </div>
        </div>
        <div id="footer">
          <div class="footer__container">
            <h2 class="footer__title">
              Unlock insights into your own <br />
              healthcare provision strategies.
            </h2>
            <br />
            <div class="progressbar_container">
              <ul class="progressbar">
                <li>start</li>
                <li>explore</li>
                <li>cluster1</li>
                <li>cluster2</li>
                <li>select</li>
              </ul>
            </div>
            <br />
            <p>
              Choose the county for your healthcare provision plan. Once you've
              chosen, you will see healthcare shortage areas within the county.
              Explore datasets associated with medcial shortage and create your
              own clusters to identify targeted shortage areas for your
              provision plan. Finally, select specific locations for your
              healthcare facilities to cover the most targeted shortage areas.
            </p>
          </div>
          <button
            class="button_blue"
            onclick="navigateToSection('start'); checkProgress('start'); flyTo('start'); onLayers('start')"
          >
            start
          </button>
          <button
            id="button_skip"
            class="button_grey"
            onclick="navigateToSection('start'); checkProgress('start'); flyTo('start'); onLayers('start')"
          >
            skip intro
          </button>
        </div>
      </div>
    </section>

    <!-- Start section -->
    <section id="start" class="content">
      <div class="legend">
        <h4 class="legend__title">unserved population / km2</h4>
        <div class="gradient-bar"></div>
        <div class="scale">
          <span class="scale-min">0</span>
          <span class="scale-max">2220</span>
        </div>
      </div>

      <aside class="sidebar">
        <div class="sidebar__title">
          <img
            class="logo"
            src="./images/logo2.PNG"
            alt="logo_image"
            onclick="navigateToSection('home'); resetProgress(); offLayers(); flyTo('start')"
          />
        </div>
        <div class="sidebar__prompt">
          <h4>Start Your Analysis</h4>
          Observe the distribution of the unserved population across counties in
          New York State. Choose counties for your healthcare provision plan.
          After making your selection, click the "Continue" button at the bottom
          right side.
        </div>

        <div class="sidebar__dataset counties dropdown">
          <h4>Select Counties</h4>
          <button class="dropbtn select-counties">
            <span class="triangle"></span>NYC Counties
          </button>
          <ul
            class="dataset__list dropdown-content nyc_counties selectable"
          ></ul>
          <br />
          <button class="dropbtn select-counties">
            <span class="triangle"></span>Upstate NY Counties
          </button>
          <ul
            class="dataset__list dropdown-content upstate_counties selectable"
          ></ul>
        </div>
      </aside>

      <footer class="footerbar">
        <div class="progressbar_container">
          <ul class="progressbar">
            <li>start</li>
            <li>explore</li>
            <li>cluster1</li>
            <li>cluster2</li>
            <li>select</li>
          </ul>
        </div>
        <button
          class="footerbar__button button_blue"
          onclick="navigateToSection('explore'); checkProgress('explore'); zoomToFeature(); onLayers('explore')"
          disabled
        >
          continue
        </button>
      </footer>
    </section>

    <!-- Explore section -->
    <section id="explore" class="content">
      <div class="legend">
        <h4 class="legend__title">Unserved Population / km2</h4>
        <div class="gradient-bar"></div>
        <div class="scale">
          <span class="scale-min">0</span>
          <span class="scale-max">2000+</span>
        </div>
      </div>

      <aside class="sidebar">
        <div class="sidebar__title">
          <img
            class="logo"
            src="./images/logo2.PNG"
            alt="logo_image"
            onclick="navigateToSection('home'); resetProgress(); offLayers(); flyTo('start')"
          />
        </div>
        <div class="sidebar__prompt">
          <h4>Explore Datasets</h4>
          Explore datasets related to shortage areas by comparing target data on
          shortages with other secondary data. Add or remove datasets as needed
          for the clustering analysis of healthcare shortages. Once you are
          finished, click the "Continue" button.
        </div>

        <div class="sidebar__dataset target_data dropdown selectable">
          <h4>Select Target Data</h4>
          <button class="dropbtn">
            <span class="triangle expanded"></span>Unserved Population Density
          </button>
          <ul
            class="dataset__list dropdown-content unserved_population_density expanded"
          >
            <li class="dataset__item">
              <p>Unserved population / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Unserved Medicaid enrollees / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Unserved Commercial enrollees / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
        </div>

        <div class="sidebar__dataset second_data dropdown selectable yellow">
          <h4>Select Second Data</h4>
          <button class="dropbtn">
            <span class="triangle expanded"></span>Insured Population Density
          </button>
          <ul
            class="dataset__list dropdown-content insured_population_density expanded"
          >
            <li class="dataset__item">
              <p>Insured population / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Medicaid enrollees / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Commercial enrollees / km2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
          <br />

          <button class="dropbtn">
            <span class="triangle"></span>Health Behaviors
          </button>
          <ul class="dataset__list dropdown-content health_behaviors">
            <li class="dataset__item">
              <p>Current lack of health insurance</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>No leisure-time physical activity</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Binge drinking</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Sleeping less than 7 hours</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Current smoking</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Cholesterol screening</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Taking medicine for high blood pressure</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Visits to dentist or dental clinic</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Visits to doctor for routine checkup</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
          <br />

          <button class="dropbtn">
            <span class="triangle"></span>Health Status
          </button>
          <ul class="dataset__list dropdown-content health_status">
            <li class="dataset__item">
              <p>Physical health not good for >=14 days</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Mental health not good for >=14 days</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Fair or poor self-rated health status</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
          <br />

          <button class="dropbtn">
            <span class="triangle"></span>Income & Expenses
          </button>
          <ul class="dataset__list dropdown-content income_and_expenses">
            <li class="dataset__item">
              <p>Median household income</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Median household disposable income</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Median monthly housing cost</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
          <br />

          <button class="dropbtn">
            <span class="triangle"></span>Land Use & Parcels
          </button>
          <ul class="dataset__list dropdown-content land_use_and_parcels">
            <li class="dataset__item">
              <p>Average land price / ft2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Residential area / ft2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Commercial area / ft2</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Residential district percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Commercial district percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Industrial district percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Agricultural land percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Vacant land percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
          <br />

          <button class="dropbtn">
            <span class="triangle"></span>Mode of Transportation
          </button>
          <ul class="dataset__list dropdown-content transportation">
            <li class="dataset__item">
              <p>Drove alone percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Carpooled percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Public transit percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Walked percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
            <li class="dataset__item">
              <p>Worked from home percent</p>
              <i class="fa-regular fa-square-plus"></i>
            </li>
          </ul>
        </div>

        <div class="sidebar__dataset dropdown">
          <button class="dropbtn">
            <span class="triangle expanded"></span>Selected Dataset
          </button>
          <ul
            class="dataset__list dropdown-content selected_dataset expanded"
          ></ul>
        </div>
      </aside>

      <footer class="footerbar">
        <div class="progressbar_container">
          <ul class="progressbar">
            <li>start</li>
            <li>explore</li>
            <li>cluster1</li>
            <li>cluster2</li>
            <li>select</li>
          </ul>
        </div>
        <button
          class="footerbar__button button_blue"
          onclick="navigateToSection('cluster1'); checkProgress('cluster1')"
        >
          continue
        </button>
      </footer>
    </section>

    <!-- Cluster1 section -->
    <section id="cluster1" class="content">
      <div class="legend">
        <h4 class="legend__title">Unserved Population / km2</h4>
        <div class="gradient-bar"></div>
        <div class="scale">
          <span class="scale-min">0</span>
          <span class="scale-max">2000+</span>
        </div>
      </div>

      <aside class="sidebar">
        <div class="sidebar__title">
          <img
            class="logo"
            src="./images/logo2.PNG"
            alt="logo_image"
            onclick="navigateToSection('home'); resetProgress(); offLayers(); flyTo('start')"
          />
        </div>
        <div class="sidebar__prompt">
          <h4>Cluster Selected Dataset</h4>
          See how the datasets below are used to identify distinct clusters of
          primary care shortage areas. Add or remove datasets to customize your
          clusters. Click the 'Cluster' button when you are ready.
        </div>
        <div class="sidebar__dataset dropdown">
          <button class="dropbtn">
            <span class="triangle"></span>Selected Dataset
          </button>
          <ul class="dataset__list dropdown-content selected_dataset"></ul>
        </div>

        <div class="sidebar__dataset dropdown">
          <button class="dropbtn">
            <span class="triangle"></span>Health Vulnerability Cluster
          </button>
          <ul
            class="dataset__list dropdown-content health_vulnerability_cluster"
          ></ul>
        </div>
      </aside>

      <footer class="footerbar">
        <div class="progressbar_container">
          <ul class="progressbar">
            <li>start</li>
            <li>explore</li>
            <li>cluster1</li>
            <li>cluster2</li>
            <li>select</li>
          </ul>
        </div>
        <button
          class="footerbar__button button_blue"
          onclick="navigateToSection('cluster2'); checkProgress('cluster2')"
        >
          continue
        </button>
      </footer>
    </section>

    <!-- Cluster2 section -->
    <section id="cluster2" class="content">
      <div class="legend">
        <h4 class="legend__title">Unserved Population / km2</h4>
        <div class="gradient-bar"></div>
        <div class="scale">
          <span class="scale-min">0</span>
          <span class="scale-max">2000+</span>
        </div>
      </div>

      <aside class="sidebar">
        <div class="sidebar__title">
          <img
            class="logo"
            src="./images/logo2.PNG"
            alt="logo_image"
            onclick="navigateToSection('home'); resetProgress(); offLayers(); flyTo('start')"
          />
        </div>
        <div class="sidebar__prompt">
          Select the county for your healthcare provision plan. Once you have
          made your selection, click the "Continue" button located at the bottom
          right side of the page.
        </div>
        <div class="sidebar__dataset">
          <ul class="dataset__list">
            <b>Target Shortage Areas</b>
            <li class="dataset__item">Tompkins</li>
            <li class="dataset__item">Ulster</li>
            <li class="dataset__item">Warren</li>
            <li class="dataset__item">Westchester</li>
          </ul>
        </div>
      </aside>

      <footer class="footerbar">
        <div class="progressbar_container">
          <ul class="progressbar">
            <li>start</li>
            <li>explore</li>
            <li>cluster1</li>
            <li>cluster2</li>
            <li>select</li>
          </ul>
        </div>
        <button
          class="footerbar__button button_blue"
          onclick="navigateToSection('select'); checkProgress('select')"
        >
          continue
        </button>
      </footer>
    </section>

    <!-- Select section -->
    <section id="select" class="content">
      <div class="legend">
        <h4 class="legend__title">Unserved Population / km2</h4>
        <div class="gradient-bar"></div>
        <div class="scale">
          <span class="scale-min">0</span>
          <span class="scale-max">2000+</span>
        </div>
      </div>

      <aside class="sidebar">
        <div class="sidebar__title">
          <img
            class="logo"
            src="./images/logo2.PNG"
            alt="logo_image"
            onclick="navigateToSection('home'); resetProgress(); offLayers(); flyTo('start')"
          />
        </div>
        <div class="sidebar__prompt">
          Select the county for your healthcare provision plan. Once you have
          made your selection, click the "Continue" button located at the bottom
          right side of the page.
        </div>
        <div class="sidebar__dataset">
          <ul class="dataset__list">
            <b>Selected sites</b>
            <li class="dataset__item">Rensselaer</li>
            <li class="dataset__item">Rockland</li>
            <li class="dataset__item">Schuyler</li>
            <li class="dataset__item">St.Lawrence</li>
            <li class="dataset__item">Steuben</li>
            <li class="dataset__item">Sullivan</li>
            <li class="dataset__item">Tioga</li>
            <li class="dataset__item">Tompkins</li>
            <li class="dataset__item">Ulster</li>
            <li class="dataset__item">Warren</li>
            <li class="dataset__item">Westchester</li>
          </ul>
        </div>
      </aside>

      <footer class="footerbar">
        <div class="progressbar_container">
          <ul class="progressbar">
            <li>start</li>
            <li>explore</li>
            <li>cluster1</li>
            <li>cluster2</li>
            <li>select</li>
          </ul>
        </div>
        <button
          class="footerbar__button button_blue"
          onclick="checkProgress('share')"
        >
          share
        </button>
      </footer>
    </section>
  </body>
</html>
